<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.1"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>vue3.x 新特性 - 王志强(Wang Zhiqiang) 点滴生活</title><meta description="本文主要围绕 vue-compisition-api，来讲解大家最关心的、同时也是 vue 3.0 最重要的一些新特性，例如 setup() 函数、reactive()、ref() 等这些 Vue Hooks。"><meta property="og:type" content="blog"><meta property="og:title" content="vue3.x 新特性"><meta property="og:url" content="https://zhiqw.github.io/2020/06/18/html/vue3-newfeatures/"><meta property="og:site_name" content="王志强(Wang Zhiqiang) 点滴生活"><meta property="og:description" content="本文主要围绕 vue-compisition-api，来讲解大家最关心的、同时也是 vue 3.0 最重要的一些新特性，例如 setup() 函数、reactive()、ref() 等这些 Vue Hooks。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://zhiqw.github.io/img/og_image.png"><meta property="article:published_time" content="2020-06-18T15:31:00.000Z"><meta property="article:modified_time" content="2021-06-18T14:22:11.534Z"><meta property="article:author" content="ZhiQiang"><meta property="article:tag" content="css"><meta property="article:tag" content="vue"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://zhiqw.github.io/2020/06/18/html/vue3-newfeatures/"},"headline":"王志强(Wang Zhiqiang) 点滴生活","image":["https://zhiqw.github.io/img/og_image.png"],"datePublished":"2020-06-18T15:31:00.000Z","dateModified":"2021-06-18T14:22:11.534Z","author":{"@type":"Person","name":"ZhiQiang"},"description":"本文主要围绕 vue-compisition-api，来讲解大家最关心的、同时也是 vue 3.0 最重要的一些新特性，例如 setup() 函数、reactive()、ref() 等这些 Vue Hooks。"}</script><link rel="canonical" href="https://zhiqw.github.io/2020/06/18/html/vue3-newfeatures/"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.12.0/css/all.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css"><link rel="stylesheet" href="https://fonts.loli.net/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdnjs.loli.net/ajax/libs/pace/1.0.2/pace.min.js"></script><link rel="alternate" href="/atom.xml" title="王志强(Wang Zhiqiang) 点滴生活" type="application/atom+xml">
</head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="王志强(Wang Zhiqiang) 点滴生活" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">主页</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://zhiqw.github.io/"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-06-18T15:31:00.000Z" title="2020-06-18T15:31:00.000Z">2020-06-18</time><span class="level-item"><a class="link-muted" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a></span><span class="level-item">22 分钟 读完 (大约 3368 个字)</span><span class="level-item" id="busuanzi_container_page_pv"><i class="far fa-eye"></i>&nbsp;&nbsp;<span id="busuanzi_value_page_pv">0</span>次访问</span></div></div><h1 class="title is-3 is-size-4-mobile">vue3.x 新特性</h1><div class="content"><p>本文主要围绕 <code>vue-compisition-api</code>，来讲解大家最关心的、同时也是 vue 3.0 最重要的一些新特性，例如 <code>setup()</code> 函数、<code>reactive()</code>、<code>ref()</code> 等这些 Vue Hooks。</p>
<a id="more"></a>


<h2 id="基础要求"><a href="#基础要求" class="headerlink" title="基础要求"></a>基础要求</h2><ol>
<li>了解常见的 ES6 新特性<ul>
<li>ES6 的导入导出语法</li>
<li>解构赋值</li>
<li>箭头函数</li>
<li>etc…</li>
</ul>
</li>
<li>了解 vue 2.x 的基本使用<ul>
<li>组件</li>
<li>常用的指令</li>
<li>生命周期函数</li>
<li>computed、watch、ref 等</li>
</ul>
</li>
</ol>
<h2 id="相关资源"><a href="#相关资源" class="headerlink" title="相关资源"></a>相关资源</h2><ul>
<li>【知乎 - Vue Function-based API RFC】<a href="https://zhuanlan.zhihu.com/p/68477600">https://zhuanlan.zhihu.com/p/68477600</a></li>
<li>【github - <a href="https://github.com/vuejs">vuejs</a>/<strong>composition-api</strong>】<a href="https://github.com/vuejs/composition-api">https://github.com/vuejs/composition-api</a></li>
<li>【github - <a href="https://github.com/vuejs/composition-api">composition-api</a>/<strong>CHANGELOG.md</strong>】<a href="https://github.com/vuejs/composition-api/blob/master/CHANGELOG.md">https://github.com/vuejs/composition-api/blob/master/CHANGELOG.md</a></li>
<li>【开源中国 - 尤雨溪公布 Vue 3.0 开发路线：将从头开始重写 3.0】<a href="https://www.oschina.net/news/100515/plans-for-the-next-iteration-of-vue-js">https://www.oschina.net/news/100515/plans-for-the-next-iteration-of-vue-js</a></li>
</ul>
<h2 id="初始化项目"><a href="#初始化项目" class="headerlink" title="初始化项目"></a>初始化项目</h2><ol>
<li>安装 vue-cli3</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install -g @vue&#x2F;cli</span><br><span class="line"># OR</span><br><span class="line">yarn global add @vue&#x2F;cli</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>创建项目</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vue create my-project</span><br><span class="line"># OR</span><br><span class="line">vue ui</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>在项目中安装 <code>composition-api</code> 体验 vue3 新特性</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install @vue&#x2F;composition-api --save</span><br><span class="line"># OR</span><br><span class="line">yarn add @vue&#x2F;composition-api</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>在使用任何 <code>@vue/composition-api</code> 提供的能力前，必须先通过 <code>Vue.use()</code> 进行安装</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#39;vue&#39;</span><br><span class="line">import VueCompositionApi from &#39;@vue&#x2F;composition-api&#39;</span><br><span class="line"></span><br><span class="line">Vue.use(VueCompositionApi)</span><br></pre></td></tr></table></figure>

<p>   安装插件后，您就可以使用新的 <a href="https://vue-composition-api-rfc.netlify.com/">Composition API</a> 来开发组件了。</p>
<h2 id="setup"><a href="#setup" class="headerlink" title="setup"></a>setup</h2><p><code>setup()</code> 函数是 vue3 中，专门为组件提供的新属性。它为我们使用 vue3 的 <code>Composition API</code> 新特性提供了统一的入口。</p>
<h3 id="执行时机"><a href="#执行时机" class="headerlink" title="执行时机"></a>执行时机</h3><p><strong>setup</strong> 函数会在 <strong>beforeCreate</strong> 之后、<strong>created</strong> 之前执行</p>
<h3 id="接收-props-数据"><a href="#接收-props-数据" class="headerlink" title="接收 props 数据"></a>接收 props 数据</h3><ol>
<li>在 <code>props</code> 中定义当前组件允许外界传递过来的参数名称：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">props: &#123;</span><br><span class="line"> p1: String</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>通过 <code>setup</code> 函数的<strong>第一个形参</strong>，接收 <code>props</code> 数据：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">setup(props) &#123;</span><br><span class="line">   console.log(props.p1)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="context"><a href="#context" class="headerlink" title="context"></a>context</h3><p><code>setup</code> 函数的第二个形参是一个<strong>上下文对象</strong>，这个上下文对象中包含了一些有用的属性，这些属性在 <code>vue 2.x</code> 中需要通过 <code>this</code> 才能访问到，在 <code>vue 3.x</code> 中，它们的访问方式如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">const MyComponent &#x3D; &#123;</span><br><span class="line">  setup(props, context) &#123;</span><br><span class="line">    context.attrs</span><br><span class="line">    context.slots</span><br><span class="line">    context.parent</span><br><span class="line">    context.root</span><br><span class="line">    context.emit</span><br><span class="line">    context.refs</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：在 <code>setup()</code> 函数中无法访问到 <code>this</code></p>
</blockquote>
<h2 id="reactive"><a href="#reactive" class="headerlink" title="reactive"></a>reactive</h2><p><code>reactive()</code> 函数接收一个普通对象，返回一个响应式的数据对象。</p>
<h3 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h3><p>等价于 <code>vue 2.x</code> 中的 <code>Vue.observable()</code> 函数，<code>vue 3.x</code> 中提供了 <code>reactive()</code> 函数，用来创建响应式的数据对象，基本代码示例如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import &#123; reactive &#125; from &#39;@vue&#x2F;composition-api&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 创建响应式数据对象，得到的 state 类似于 vue 2.x 中 data() 返回的响应式对象</span><br><span class="line">const state &#x3D; reactive(&#123; count: 0 &#125;)</span><br></pre></td></tr></table></figure>

<h3 id="定义响应式数据供-template-使用"><a href="#定义响应式数据供-template-使用" class="headerlink" title="定义响应式数据供 template 使用"></a>定义响应式数据供 template 使用</h3><ol>
<li>按需导入 <code>reactive</code> 函数：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &#123; reactive &#125; from &#39;@vue&#x2F;composition-api&#39;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>在 <code>setup()</code> 函数中调用 <code>reactive()</code> 函数，创建响应式数据对象：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">setup() &#123;</span><br><span class="line">    &#x2F;&#x2F; 创建响应式数据对象</span><br><span class="line">   const state &#x3D; reactive(&#123;count: 0&#125;)</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; setup 函数中将响应式数据对象 return 出去，供 template 使用</span><br><span class="line">   return state</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>在 <code>template</code> 中访问响应式数据：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;当前的 count 值为：&#123;&#123;count&#125;&#125;&lt;&#x2F;p&gt;</span><br></pre></td></tr></table></figure>

<h2 id="ref"><a href="#ref" class="headerlink" title="ref"></a>ref</h2><h3 id="基本语法-1"><a href="#基本语法-1" class="headerlink" title="基本语法"></a>基本语法</h3><p><code>ref()</code> 函数用来根据给定的值创建一个<strong>响应式</strong>的<strong>数据对象</strong>，<code>ref()</code> 函数调用的返回值是一个对象，这个对象上只包含一个 <code>.value</code> 属性：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import &#123; ref &#125; from &#39;@vue&#x2F;composition-api&#39;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 创建响应式数据对象 count，初始值为 0</span><br><span class="line">const count &#x3D; ref(0)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 如果要访问 ref() 创建出来的响应式数据对象的值，必须通过 .value 属性才可以</span><br><span class="line">console.log(count.value) &#x2F;&#x2F; 输出 0</span><br><span class="line">&#x2F;&#x2F; 让 count 的值 +1</span><br><span class="line">count.value++</span><br><span class="line">&#x2F;&#x2F; 再次打印 count 的值</span><br><span class="line">console.log(count.value) &#x2F;&#x2F; 输出 1</span><br></pre></td></tr></table></figure>

<h3 id="在-template-中访问-ref-创建的响应式数据"><a href="#在-template-中访问-ref-创建的响应式数据" class="headerlink" title="在 template 中访问 ref 创建的响应式数据"></a>在 template 中访问 ref 创建的响应式数据</h3><ol>
<li>在 <code>setup()</code> 中创建响应式数据：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import &#123; ref &#125; from &#39;@vue&#x2F;composition-api&#39;</span><br><span class="line"></span><br><span class="line">setup() &#123;</span><br><span class="line">   const count &#x3D; ref(0)</span><br><span class="line"></span><br><span class="line">    return &#123;</span><br><span class="line">        count,</span><br><span class="line">        name: ref(&#39;zs&#39;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>在 <code>template</code> 中访问响应式数据：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"> &lt;p&gt;&#123;&#123;count&#125;&#125; --- &#123;&#123;name&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<h3 id="在-reactive-对象中访问-ref-创建的响应式数据"><a href="#在-reactive-对象中访问-ref-创建的响应式数据" class="headerlink" title="在 reactive 对象中访问 ref 创建的响应式数据"></a>在 reactive 对象中访问 ref 创建的响应式数据</h3><p>当把 <code>ref()</code> 创建出来的响应式数据对象，挂载到 <code>reactive()</code> 上时，会自动把响应式数据对象<strong>展开为原始的值</strong>，不需通过 <code>.value</code> 就可以直接被访问，例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">const count &#x3D; ref(0)</span><br><span class="line">const state &#x3D; reactive(&#123;</span><br><span class="line">  count</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">console.log(state.count) &#x2F;&#x2F; 输出 0</span><br><span class="line">state.count++ &#x2F;&#x2F; 此处不需要通过 .value 就能直接访问原始值</span><br><span class="line">console.log(count) &#x2F;&#x2F; 输出 1</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>注意：新的 ref 会覆盖旧的 ref</strong>，示例代码如下：</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 创建 ref 并挂载到 reactive 中</span><br><span class="line">const c1 &#x3D; ref(0)</span><br><span class="line">const state &#x3D; reactive(&#123;</span><br><span class="line">  c1</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 再次创建 ref，命名为 c2</span><br><span class="line">const c2 &#x3D; ref(9)</span><br><span class="line">&#x2F;&#x2F; 将 旧 ref c1 替换为 新 ref c2</span><br><span class="line">state.c1 &#x3D; c2</span><br><span class="line">state.c1++</span><br><span class="line"></span><br><span class="line">console.log(state.c1) &#x2F;&#x2F; 输出 10</span><br><span class="line">console.log(c2.value) &#x2F;&#x2F; 输出 10</span><br><span class="line">console.log(c1.value) &#x2F;&#x2F; 输出 0</span><br></pre></td></tr></table></figure>

<h2 id="isRef"><a href="#isRef" class="headerlink" title="isRef"></a>isRef</h2><p><code>isRef()</code> 用来判断某个值是否为 <code>ref()</code> 创建出来的对象；应用场景：当需要展开某个可能为 <code>ref()</code> 创建出来的值的时候，例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import &#123; isRef &#125; from &#39;@vue&#x2F;composition-api&#39;</span><br><span class="line"></span><br><span class="line">const unwrapped &#x3D; isRef(foo) ? foo.value : foo</span><br></pre></td></tr></table></figure>

<h2 id="toRefs"><a href="#toRefs" class="headerlink" title="toRefs"></a>toRefs</h2><p><code>toRefs()</code> 函数可以将 <code>reactive()</code> 创建出来的响应式对象，转换为普通的对象，只不过，这个对象上的每个属性节点，都是 <code>ref()</code> 类型的响应式数据，最常见的应用场景如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import &#123; toRefs &#125; from &#39;@vue&#x2F;composition-api&#39;</span><br><span class="line"></span><br><span class="line">setup() &#123;</span><br><span class="line">    &#x2F;&#x2F; 定义响应式数据对象</span><br><span class="line">    const state &#x3D; reactive(&#123;</span><br><span class="line">      count: 0</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 定义页面上可用的事件处理函数</span><br><span class="line">    const increment &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">      state.count++</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 在 setup 中返回一个对象供页面使用</span><br><span class="line">    &#x2F;&#x2F; 这个对象中可以包含响应式的数据，也可以包含事件处理函数</span><br><span class="line">    return &#123;</span><br><span class="line">      &#x2F;&#x2F; 将 state 上的每个属性，都转化为 ref 形式的响应式数据</span><br><span class="line">      ...toRefs(state),</span><br><span class="line">      &#x2F;&#x2F; 自增的事件处理函数</span><br><span class="line">      increment</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>页面上可以直接访问 <code>setup()</code> 中 return 出来的响应式数据：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;p&gt;当前的count值为：&#123;&#123;count&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;button @click&#x3D;&quot;increment&quot;&gt;+1&lt;&#x2F;button&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br></pre></td></tr></table></figure>

<h2 id="computed"><a href="#computed" class="headerlink" title="computed"></a>computed</h2><p><code>computed()</code> 用来创建计算属性，<code>computed()</code> 函数的返回值是一个 <code>ref</code> 的实例。使用 <code>computed</code> 之前需要按需导入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &#123; computed &#125; from &#39;@vue&#x2F;composition-api&#39;</span><br></pre></td></tr></table></figure>

<h3 id="创建只读的计算属性"><a href="#创建只读的计算属性" class="headerlink" title="创建只读的计算属性"></a>创建只读的计算属性</h3><p>在调用 <code>computed()</code> 函数期间，传入一个 <code>function</code> 函数，可以得到一个只读的计算属性，示例代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 创建一个 ref 响应式数据</span><br><span class="line">const count &#x3D; ref(1)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 根据 count 的值，创建一个响应式的计算属性 plusOne</span><br><span class="line">&#x2F;&#x2F; 它会根据依赖的 ref 自动计算并返回一个新的 ref</span><br><span class="line">const plusOne &#x3D; computed(() &#x3D;&gt; count.value + 1)</span><br><span class="line"></span><br><span class="line">console.log(plusOne.value) &#x2F;&#x2F; 输出 2</span><br><span class="line">plusOne.value++ &#x2F;&#x2F; error</span><br></pre></td></tr></table></figure>

<h3 id="创建可读可写的计算属性"><a href="#创建可读可写的计算属性" class="headerlink" title="创建可读可写的计算属性"></a>创建可读可写的计算属性</h3><p>在调用 <code>computed()</code> 函数期间，传入一个包含 <code>get</code> 和 <code>set</code> 函数的对象，可以得到一个可读可写的计算属性，示例代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 创建一个 ref 响应式数据</span><br><span class="line">const count &#x3D; ref(1)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 创建一个 computed 计算属性</span><br><span class="line">const plusOne &#x3D; computed(&#123;</span><br><span class="line">  &#x2F;&#x2F; 取值函数</span><br><span class="line">  get: () &#x3D;&gt; count.value + 1,</span><br><span class="line">  &#x2F;&#x2F; 赋值函数</span><br><span class="line">  set: val &#x3D;&gt; &#123;</span><br><span class="line">    count.value &#x3D; val - 1</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 为计算属性赋值的操作，会触发 set 函数</span><br><span class="line">plusOne.value &#x3D; 9</span><br><span class="line">&#x2F;&#x2F; 触发 set 函数后，count 的值会被更新</span><br><span class="line">console.log(count.value) &#x2F;&#x2F; 输出 8</span><br></pre></td></tr></table></figure>

<h2 id="watch"><a href="#watch" class="headerlink" title="watch"></a>watch</h2><p><code>watch()</code> 函数用来监视某些数据项的变化，从而触发某些特定的操作，使用之前需要按需导入：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; watch &#125; <span class="keyword">from</span> <span class="string">'@vue/composition-api'</span></span><br></pre></td></tr></table></figure>

<h3 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">const count &#x3D; ref(0)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 定义 watch，只要 count 值变化，就会触发 watch 回调</span><br><span class="line">&#x2F;&#x2F; watch 会在创建时会自动调用一次</span><br><span class="line">watch(() &#x3D;&gt; console.log(count.value))</span><br><span class="line">&#x2F;&#x2F; 输出 0</span><br><span class="line"></span><br><span class="line">setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">  count.value++</span><br><span class="line">  &#x2F;&#x2F; 输出 1</span><br><span class="line">&#125;, 1000)</span><br></pre></td></tr></table></figure>

<h3 id="监视指定的数据源"><a href="#监视指定的数据源" class="headerlink" title="监视指定的数据源"></a>监视指定的数据源</h3><p>监视 <code>reactive</code> 类型的数据源：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 定义数据源</span><br><span class="line">const state &#x3D; reactive(&#123; count: 0 &#125;)</span><br><span class="line">&#x2F;&#x2F; 监视 state.count 这个数据节点的变化</span><br><span class="line">watch(</span><br><span class="line">  () &#x3D;&gt; state.count,</span><br><span class="line">  (count, prevCount) &#x3D;&gt; &#123;</span><br><span class="line">    &#x2F;* ... *&#x2F;</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>监视 <code>ref</code> 类型的数据源：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 定义数据源</span><br><span class="line">const count &#x3D; ref(0)</span><br><span class="line">&#x2F;&#x2F; 指定要监视的数据源</span><br><span class="line">watch(count, (count, prevCount) &#x3D;&gt; &#123;</span><br><span class="line">  &#x2F;* ... *&#x2F;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="监视多个数据源"><a href="#监视多个数据源" class="headerlink" title="监视多个数据源"></a>监视多个数据源</h3><p>监视 <code>reactive</code> 类型的数据源：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">const state &#x3D; reactive(&#123; count: 0, name: &#39;zs&#39; &#125;)</span><br><span class="line"></span><br><span class="line">watch(</span><br><span class="line">  [() &#x3D;&gt; state.count, () &#x3D;&gt; state.name], &#x2F;&#x2F; Object.values(toRefs(state)),</span><br><span class="line">  ([count, name], [prevCount, prevName]) &#x3D;&gt; &#123;</span><br><span class="line">    console.log(count) &#x2F;&#x2F; 新的 count 值</span><br><span class="line">    console.log(name) &#x2F;&#x2F; 新的 name 值</span><br><span class="line">    console.log(&#39;------------&#39;)</span><br><span class="line">    console.log(prevCount) &#x2F;&#x2F; 旧的 count 值</span><br><span class="line">    console.log(prevName) &#x2F;&#x2F; 新的 name 值</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    lazy: true &#x2F;&#x2F; 在 watch 被创建的时候，不执行回调函数中的代码</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">  state.count++</span><br><span class="line">  state.name &#x3D; &#39;ls&#39;</span><br><span class="line">&#125;, 1000)</span><br></pre></td></tr></table></figure>

<p>监视 <code>ref</code> 类型的数据源：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">const count &#x3D; ref(0)</span><br><span class="line">const name &#x3D; ref(&#39;zs&#39;)</span><br><span class="line"></span><br><span class="line">watch(</span><br><span class="line">  [count, name], &#x2F;&#x2F; 需要被监视的多个 ref 数据源</span><br><span class="line">  ([count, name], [prevCount, prevName]) &#x3D;&gt; &#123;</span><br><span class="line">    console.log(count)</span><br><span class="line">    console.log(name)</span><br><span class="line">    console.log(&#39;-------------&#39;)</span><br><span class="line">    console.log(prevCount)</span><br><span class="line">    console.log(prevName)</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    lazy: true</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">  count.value++</span><br><span class="line">  name.value &#x3D; &#39;xiaomaolv&#39;</span><br><span class="line">&#125;, 1000)</span><br></pre></td></tr></table></figure>

<h3 id="清除监视"><a href="#清除监视" class="headerlink" title="清除监视"></a>清除监视</h3><p>在 <code>setup()</code> 函数内创建的 <code>watch</code> 监视，会在当前组件被销毁的时候自动停止。如果想要明确地停止某个监视，可以调用 <code>watch()</code> 函数的返回值即可，语法如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 创建监视，并得到 停止函数</span><br><span class="line">const stop &#x3D; watch(() &#x3D;&gt; &#123;</span><br><span class="line">  &#x2F;* ... *&#x2F;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 调用停止函数，清除对应的监视</span><br><span class="line">stop()</span><br></pre></td></tr></table></figure>

<h3 id="在-watch-中清除无效的异步任务"><a href="#在-watch-中清除无效的异步任务" class="headerlink" title="在 watch 中清除无效的异步任务"></a>在 watch 中清除无效的异步任务</h3><p>有时候，当被 <code>watch</code> 监视的值发生变化时，或 <code>watch</code> 本身被 <code>stop</code> 之后，我们期望能够清除那些无效的异步任务，此时，<code>watch</code> 回调函数中提供了一个 <code>cleanup registrator function</code> 来执行清除的工作。这个清除函数会在如下情况下被调用：</p>
<ul>
<li>watch 被重复执行了</li>
<li>watch 被强制 <code>stop</code> 了</li>
</ul>
<p><strong>Template 中的代码示例如下</strong>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* template 中的代码 *&#x2F; &lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;keywords&quot; &#x2F;&gt;</span><br></pre></td></tr></table></figure>

<p><strong>Script 中的代码示例如下</strong>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 定义响应式数据 keywords</span><br><span class="line">const keywords &#x3D; ref(&#39;&#39;)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 异步任务：打印用户输入的关键词</span><br><span class="line">const asyncPrint &#x3D; val &#x3D;&gt; &#123;</span><br><span class="line">  &#x2F;&#x2F; 延时 1 秒后打印</span><br><span class="line">  return setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">    console.log(val)</span><br><span class="line">  &#125;, 1000)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 定义 watch 监听</span><br><span class="line">watch(</span><br><span class="line">  keywords,</span><br><span class="line">  (keywords, prevKeywords, onCleanup) &#x3D;&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F; 执行异步任务，并得到关闭异步任务的 timerId</span><br><span class="line">    const timerId &#x3D; asyncPrint(keywords)</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 如果 watch 监听被重复执行了，则会先清除上次未完成的异步任务</span><br><span class="line">    onCleanup(() &#x3D;&gt; clearTimeout(timerId))</span><br><span class="line">  &#125;,</span><br><span class="line">  &#x2F;&#x2F; watch 刚被创建的时候不执行</span><br><span class="line">  &#123; lazy: true &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 把 template 中需要的数据 return 出去</span><br><span class="line">return &#123;</span><br><span class="line">  keywords</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="LifeCycle-Hooks"><a href="#LifeCycle-Hooks" class="headerlink" title="LifeCycle Hooks"></a>LifeCycle Hooks</h2><p>新版的生命周期函数，可以按需导入到组件中，且只能在 <code>setup()</code> 函数中使用，代码示例如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import &#123; onMounted, onUpdated, onUnmounted &#125; from &#39;@vue&#x2F;composition-api&#39;</span><br><span class="line"></span><br><span class="line">const MyComponent &#x3D; &#123;</span><br><span class="line">  setup() &#123;</span><br><span class="line">    onMounted(() &#x3D;&gt; &#123;</span><br><span class="line">      console.log(&#39;mounted!&#39;)</span><br><span class="line">    &#125;)</span><br><span class="line">    onUpdated(() &#x3D;&gt; &#123;</span><br><span class="line">      console.log(&#39;updated!&#39;)</span><br><span class="line">    &#125;)</span><br><span class="line">    onUnmounted(() &#x3D;&gt; &#123;</span><br><span class="line">      console.log(&#39;unmounted!&#39;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>下面的列表，是 vue 2.x 的生命周期函数与新版 Composition API 之间的映射关系：</p>
<ul>
<li><del><code>beforeCreate</code></del> -&gt; use <code>setup()</code></li>
<li><del><code>created</code></del> -&gt; use <code>setup()</code></li>
<li><code>beforeMount</code> -&gt; <code>onBeforeMount</code></li>
<li><code>mounted</code> -&gt; <code>onMounted</code></li>
<li><code>beforeUpdate</code> -&gt; <code>onBeforeUpdate</code></li>
<li><code>updated</code> -&gt; <code>onUpdated</code></li>
<li><code>beforeDestroy</code> -&gt; <code>onBeforeUnmount</code></li>
<li><code>destroyed</code> -&gt; <code>onUnmounted</code></li>
<li><code>errorCaptured</code> -&gt; <code>onErrorCaptured</code></li>
</ul>
<h2 id="provide-amp-inject"><a href="#provide-amp-inject" class="headerlink" title="provide &amp; inject"></a>provide &amp; inject</h2><p><code>provide()</code> 和 <code>inject()</code> 可以实现嵌套组件之间的数据传递。这两个函数只能在 <code>setup()</code> 函数中使用。父级组件中使用 <code>provide()</code> 函数向下传递数据；子级组件中使用 <code>inject()</code> 获取上层传递过来的数据。</p>
<h3 id="共享普通数据"><a href="#共享普通数据" class="headerlink" title="共享普通数据"></a>共享普通数据</h3><p><code>App.vue</code> 根组件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;h1&gt;App 根组件&lt;&#x2F;h1&gt;</span><br><span class="line">    &lt;hr &#x2F;&gt;</span><br><span class="line">    &lt;LevelOne &#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import LevelOne from &#39;.&#x2F;components&#x2F;LevelOne&#39;</span><br><span class="line">&#x2F;&#x2F; 1. 按需导入 provide</span><br><span class="line">import &#123; provide &#125; from &#39;@vue&#x2F;composition-api&#39;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;app&#39;,</span><br><span class="line">  setup() &#123;</span><br><span class="line">    &#x2F;&#x2F; 2. App 根组件作为父级组件，通过 provide 函数向子级组件共享数据（不限层级）</span><br><span class="line">    &#x2F;&#x2F;    provide(&#39;要共享的数据名称&#39;, 被共享的数据)</span><br><span class="line">    provide(&#39;globalColor&#39;, &#39;red&#39;)</span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    LevelOne</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p><code>LevelOne.vue</code> 组件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;!-- 4. 通过属性绑定，为标签设置字体颜色 --&gt;</span><br><span class="line">    &lt;h3 :style&#x3D;&quot;&#123;color: themeColor&#125;&quot;&gt;Level One&lt;&#x2F;h3&gt;</span><br><span class="line">    &lt;hr &#x2F;&gt;</span><br><span class="line">    &lt;LevelTwo &#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import LevelTwo from &#39;.&#x2F;LevelTwo&#39;</span><br><span class="line">&#x2F;&#x2F; 1. 按需导入 inject</span><br><span class="line">import &#123; inject &#125; from &#39;@vue&#x2F;composition-api&#39;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  setup() &#123;</span><br><span class="line">    &#x2F;&#x2F; 2. 调用 inject 函数时，通过指定的数据名称，获取到父级共享的数据</span><br><span class="line">    const themeColor &#x3D; inject(&#39;globalColor&#39;)</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 3. 把接收到的共享数据 return 给 Template 使用</span><br><span class="line">    return &#123;</span><br><span class="line">      themeColor</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    LevelTwo</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p><code>LevelTwo.vue</code> 组件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;!-- 4. 通过属性绑定，为标签设置字体颜色 --&gt;</span><br><span class="line">    &lt;h5 :style&#x3D;&quot;&#123;color: themeColor&#125;&quot;&gt;Level Two&lt;&#x2F;h5&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">&#x2F;&#x2F; 1. 按需导入 inject</span><br><span class="line">import &#123; inject &#125; from &#39;@vue&#x2F;composition-api&#39;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  setup() &#123;</span><br><span class="line">    &#x2F;&#x2F; 2. 调用 inject 函数时，通过指定的数据名称，获取到父级共享的数据</span><br><span class="line">    const themeColor &#x3D; inject(&#39;globalColor&#39;)</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 3. 把接收到的共享数据 return 给 Template 使用</span><br><span class="line">    return &#123;</span><br><span class="line">      themeColor</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="共享-ref-响应式数据"><a href="#共享-ref-响应式数据" class="headerlink" title="共享 ref 响应式数据"></a>共享 ref 响应式数据</h3><p>如下代码实现了点按钮切换主题颜色的功能，主要修改了 <code>App.vue</code> 组件中的代码，<code>LevelOne.vue</code> 和 <code>LevelTwo.vue</code> 中的代码不受任何改变：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;h1&gt;App 根组件&lt;&#x2F;h1&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 点击 App.vue 中的按钮，切换子组件中文字的颜色 --&gt;</span><br><span class="line">    &lt;button @click&#x3D;&quot;themeColor&#x3D;&#39;red&#39;&quot;&gt;红色&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;button @click&#x3D;&quot;themeColor&#x3D;&#39;blue&#39;&quot;&gt;蓝色&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;button @click&#x3D;&quot;themeColor&#x3D;&#39;orange&#39;&quot;&gt;橘黄色&lt;&#x2F;button&gt;</span><br><span class="line"></span><br><span class="line">    &lt;hr &#x2F;&gt;</span><br><span class="line">    &lt;LevelOne &#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import LevelOne from &#39;.&#x2F;components&#x2F;LevelOne&#39;</span><br><span class="line">import &#123; provide, ref &#125; from &#39;@vue&#x2F;composition-api&#39;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;app&#39;,</span><br><span class="line">  setup() &#123;</span><br><span class="line">    &#x2F;&#x2F; 定义 ref 响应式数据</span><br><span class="line">    const themeColor &#x3D; ref(&#39;red&#39;)</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 把 ref 数据通过 provide 提供的子组件使用</span><br><span class="line">    provide(&#39;globalColor&#39;, themeColor)</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; setup 中 return 数据供当前组件的 Template 使用</span><br><span class="line">    return &#123;</span><br><span class="line">      themeColor</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    LevelOne</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="template-refs"><a href="#template-refs" class="headerlink" title="template refs"></a>template refs</h2><p>通过 <code>ref()</code> 还可以引用页面上的元素或组件。</p>
<h3 id="元素的引用"><a href="#元素的引用" class="headerlink" title="元素的引用"></a>元素的引用</h3><p>示例代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h3 ref&#x3D;&quot;h3Ref&quot;&gt;TemplateRefOne&lt;&#x2F;h3&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; ref, onMounted &#125; from &#39;@vue&#x2F;composition-api&#39;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  setup() &#123;</span><br><span class="line">    &#x2F;&#x2F; 创建一个 DOM 引用</span><br><span class="line">    const h3Ref &#x3D; ref(null)</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 在 DOM 首次加载完毕之后，才能获取到元素的引用</span><br><span class="line">    onMounted(() &#x3D;&gt; &#123;</span><br><span class="line">      &#x2F;&#x2F; 为 dom 元素设置字体颜色</span><br><span class="line">      &#x2F;&#x2F; h3Ref.value 是原生DOM对象</span><br><span class="line">      h3Ref.value.style.color &#x3D; &#39;red&#39;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 把创建的引用 return 出去</span><br><span class="line">    return &#123;</span><br><span class="line">      h3Ref</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="组件的引用"><a href="#组件的引用" class="headerlink" title="组件的引用"></a>组件的引用</h3><p><code>TemplateRefOne.vue</code> 中的示例代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h3&gt;TemplateRefOne&lt;&#x2F;h3&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 4. 点击按钮展示子组件的 count 值 --&gt;</span><br><span class="line">    &lt;button @click&#x3D;&quot;showNumber&quot;&gt;获取TemplateRefTwo中的count值&lt;&#x2F;button&gt;</span><br><span class="line"></span><br><span class="line">    &lt;hr &#x2F;&gt;</span><br><span class="line">    &lt;!-- 3. 为组件添加 ref 引用 --&gt;</span><br><span class="line">    &lt;TemplateRefTwo ref&#x3D;&quot;comRef&quot; &#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; ref &#125; from &#39;@vue&#x2F;composition-api&#39;</span><br><span class="line">import TemplateRefTwo from &#39;.&#x2F;TemplateRefTwo&#39;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  setup() &#123;</span><br><span class="line">    &#x2F;&#x2F; 1. 创建一个组件的 ref 引用</span><br><span class="line">    const comRef &#x3D; ref(null)</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 5. 展示子组件中 count 的值</span><br><span class="line">    const showNumber &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">      console.log(comRef.value.count)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 2. 把创建的引用 return 出去</span><br><span class="line">    return &#123;</span><br><span class="line">      comRef,</span><br><span class="line">      showNumber</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    TemplateRefTwo</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p><code>TemplateRefTwo.vue</code> 中的示例代码：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h5&gt;TemplateRefTwo --- &#123;&#123;count&#125;&#125;&lt;<span class="regexp">/h5&gt;</span></span><br><span class="line"><span class="regexp">    &lt;!-- 3. 点击按钮，让 count 值自增 +1 --&gt;</span></span><br><span class="line"><span class="regexp">    &lt;button @click="count+=1"&gt;+1&lt;/</span>button&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> &#123; ref &#125; <span class="keyword">from</span> <span class="string">'@vue/composition-api'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  setup() &#123;</span><br><span class="line">    <span class="comment">// 1. 定义响应式的数据</span></span><br><span class="line">    <span class="keyword">const</span> count = ref(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. 把响应式数据 return 给 Template 使用</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      count</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="createComponent"><a href="#createComponent" class="headerlink" title="createComponent"></a>createComponent</h2><blockquote>
<p>这个函数不是必须的，除非你想要完美结合 TypeScript 提供的类型推断来进行项目的开发。</p>
</blockquote>
<p>这个函数仅仅提供了类型推断，方便在结合 TypeScript 书写代码时，能为 <code>setup()</code> 中的 <code>props</code> 提供完整的类型推断。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import &#123; createComponent &#125; from &#39;vue&#39;</span><br><span class="line"></span><br><span class="line">export default createComponent(&#123;</span><br><span class="line">  props: &#123;</span><br><span class="line">    foo: String</span><br><span class="line">  &#125;,</span><br><span class="line">  setup(props) &#123;</span><br><span class="line">    props.foo &#x2F;&#x2F; &lt;- type: string</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</div><div class="article-tags size-small mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/css/">css</a><a class="link-muted mr-2" rel="tag" href="/tags/vue/">vue</a></div><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/social-share.js/1.0.16/css/share.min.css"><div class="social-share"></div><script src="https://cdnjs.loli.net/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button is-info donate"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="/img/alipay.png" alt="支付宝"></span></a><a class="button is-success donate"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="/img/weixin.png" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2020/06/20/php/centos-php-install/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">在centos7环境下安装配置php7</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2020/06/09/tool/rsync/"><span class="level-item">Rsync文件同步工具介绍</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.png" alt="王志强"></figure><p class="title is-size-4 is-block line-height-inherit">王志强</p><p class="is-size-6 is-block">Wang Zhiqiang</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>China</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">30</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">8</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">10</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://zhiqw.github.io/" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://zhiqw.github.io/"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/atom.xml"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/docker/"><span class="level-start"><span class="level-item">docker</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/php/"><span class="level-start"><span class="level-item">php</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/windwos/"><span class="level-start"><span class="level-item">windwos</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E5%89%8D%E7%AB%AF/"><span class="level-start"><span class="level-item">前端</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"><span class="level-start"><span class="level-item">数据库</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"><span class="level-start"><span class="level-item">网络编程</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E8%BF%90%E7%BB%B4/"><span class="level-start"><span class="level-item">运维</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/"><span class="level-start"><span class="level-item">项目管理</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2021-06-18T15:09:00.000Z">2021-06-18</time></p><p class="title is-6"><a class="link-muted" href="/2021/06/18/php/easyswoole-websockey/">easyswoole实现websocket</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2021-02-04T14:56:00.000Z">2021-02-04</time></p><p class="title is-6"><a class="link-muted" href="/2021/02/04/php/php-get-mimetype/">PHP 获取文件的MimeType</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/php/">php</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2021-01-30T16:13:00.000Z">2021-01-31</time></p><p class="title is-6"><a class="link-muted" href="/2021/01/31/net/httpcode/">响应状态码解释</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/">网络编程</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2021-01-30T15:56:00.000Z">2021-01-30</time></p><p class="title is-6"><a class="link-muted" href="/2021/01/30/windwos/windwos10-cmd-wifi-info/">windwos10查看wifi密码</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/windwos/">windwos</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2021-01-14T04:22:39.000Z">2021-01-14</time></p><p class="title is-6"><a class="link-muted" href="/2021/01/14/liunx/acme-sh/">acme.sh</a></p><p class="is-uppercase"></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2021/06/"><span class="level-start"><span class="level-item">六月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2021/02/"><span class="level-start"><span class="level-item">二月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2021/01/"><span class="level-start"><span class="level-item">一月 2021</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/12/"><span class="level-start"><span class="level-item">十二月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/11/"><span class="level-start"><span class="level-item">十一月 2020</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/08/"><span class="level-start"><span class="level-item">八月 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/07/"><span class="level-start"><span class="level-item">七月 2020</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/06/"><span class="level-start"><span class="level-item">六月 2020</span></span><span class="level-end"><span class="level-item tag">15</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/css/"><span class="tag">css</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/easyswoole/"><span class="tag">easyswoole</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mysql/"><span class="tag">mysql</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mysql%E7%B4%A2%E5%BC%95%E7%B1%BB%E5%9E%8B/"><span class="tag">mysql索引类型</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/node-sequelize/"><span class="tag">node-sequelize</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/solr/"><span class="tag">solr</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/swoole/"><span class="tag">swoole</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/think-swoole/"><span class="tag">think-swoole</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/thinkphp/"><span class="tag">thinkphp</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/vue/"><span class="tag">vue</span><span class="tag is-grey-lightest">1</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="王志强(Wang Zhiqiang) 点滴生活" height="28"></a><p class="size-small"><span>&copy; 2021 ZhiQiang</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">共<span id="busuanzi_value_site_uv">0</span>个访客</span></p></div><div class="level-end"></div></div></div></footer><script src="https://cdnjs.loli.net/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="https://cdnjs.loli.net/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'https://zhiqw.github.io',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdnjs.loli.net/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.8/js/lightgallery.min.js" defer></script><script src="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>